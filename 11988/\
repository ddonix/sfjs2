#include <iostream>
#include <string>
#include <cstring>
#include <queue>
#include <list>

using namespace std;

int main()
{
	char e[100002];
	char s[100002];
	int len;
	while(cin>>e)
	{
		vector<int> v;
		
		int i = 0;
		auto it = v.end();
		len = strlen(e);
		while(i < len && (e[i] == '[' || e[i] == ']')) i++;
		while(i < len)
		{
			int j,k;
			for(j = i+1; j < len && e[j] != '[' && e[j] != ']'; j++);
			it = v.insert(it, make_pair(i,j));
			for(k = j+1; k < len && (e[k] == '[' || e[k] == ']'); k++);
			i = k;

			if(e[k-1] == '[')
				it = v.begin();
			else if(e[k-1] == ']')
				it = v.end();
			e[j] = 0;
		}
		while(!q.empty())
		{
			pair<int, int> p = q.front();
			q.pop();
			if (p.first == -1)
				it = v.begin();
			else if(p.first == -2)
				it = v.end();
			else
			{
				it = v.insert(it, p);
				it--;
			}
		}
		for(int i = 0; i < v.size(); i++)
			cout<<e+v[i].first;
		cout<<endl;
	}
}
